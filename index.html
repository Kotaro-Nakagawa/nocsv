<!DOCTYPE html>

<head>
  <script type="module" src="sample.js"></script>
</head>

<body>
  <div id="editor" width="90%" height="600" background-color="green"></div>
  <div>
    <button id="testbutton">
      import
    </button>
    <button id="exportbutton">
      export
    </button>
    <div>
      <input type="range" id="tableWidth" name="tableWidth" min="400" max="1200" value="800" step="50" />
      <label for="tableWidth">tableWidth</label>
      <input type="range" id="mainX" name="mainX" min="0" max="64" value="24" step="1" />
      <label for="mainX">LeftMargin</label>
      <input type="range" id="mainY" name="mainY" min="0" max="64" value="8" step="1" />
      <label for="mainY">TopMargin</label>
    </div>
    <div>
      <input type="color" id="titleColor" value="#008000" /><label for="titleColor">title</label>
      <input type="color" id="headerColor" value="#00FFFF" /><label for="headerColor">header</label>
      <input type="color" id="cellColor" value="#FFFFFF" /><label for="cellColor">cell</label>
      <input type="color" id="subtitleColor" value="#FFFFFF" /><label for="subtitleColor">subtitle</label>
      <input type="color" id="cellBorderColor" value="#2F4F4F" /><label for="cellBorderColor">border</label>
    </div>
  </div>
  <textarea id="input">
    {
      "titleTable": {
        "columns": [
          "unicolumn"
        ],
        "datas": [
          {
            "unicolumn": "this is title"
          }
        ],
        "rules": []
      },
      "mainTable名": {
        "columns": [
          "hoge",
          "fuga",
          "piyo"
        ],
        "datas": [
          {
            "hoge": "record1 hoge",
            "fuga": "record1 fuga",
            "piyo": "record1 piyo"
          },
          {
            "subTable名": [
              {
                "hoge": "subtable1_record1 hoge",
                "fuga": "subtable1_record1 fuga",
                "piyo": "subtable1_record1 piyo"
              },
              {
                "hoge": "subtable1_record2 hoge",
                "fuga": "subtable1_record2 fuga",
                "piyo": "subtable1_record2 piyo"
              }
            ]
          },
          {
            "hoge": 123,
            "fuga": 456,
            "piyo": 789
          },
          {
            "subTable2名": [
              {
                "subTable2-1名": [
                  {
                    "hoge": "hogehogehoge",
                    "fuga": "hogehogefuga",
                    "piyo": "hogehogepiyo"
                  },
                  {
                    "hoge": "fugahoge",
                    "fuga": "fugafuga",
                    "piyo": "fugapiyo"
                  }
                ]
              },
              {
                "hoge": "subtable1_record1 hoge",
                "fuga": "subtable1_record1 fuga",
                "piyo": "subtable1_record1 piyo"
              },
              {
                "hoge": "subtable1_record2 hoge",
                "fuga": "subtable1_record2 fuga",
                "piyo": "subtable1_record2 piyo"
              }
            ]
          }
        ]
      },
      "3rdTable": {
        "columns": [
          "column1",
          "column2",
          "column3",
          "column4",
          "column5"
        ],
        "datas": [
          {
            "column1": "value01",
            "column2": "value02",
            "column3": "value03",
            "column4": "value04",
            "column5": "value05"
          },
          {
            "column1": "value11",
            "column2": "value12",
            "column3": "value13",
            "column4": "value14",
            "column5": "value15"
          },
          {
            "column1": "value21",
            "column2": "value22",
            "column3": "value23",
            "column4": "value24",
            "column5": "value25"
          },
          {
            "column1": "value31",
            "column2": "value32",
            "column3": "value33",
            "column4": "value34",
            "column5": "value35"
          },
          {
            "column1": "value41",
            "column2": "value42",
            "column3": "value43",
            "column4": "value44",
            "column5": "value45"
          },
          {
            "column1": "value51",
            "column2": "value52",
            "column3": "value53",
            "column4": "value54",
            "column5": "value55"
          },
          {
            "column1": "value61",
            "column2": "value62",
            "column3": "value63",
            "column4": "value64",
            "column5": "value65"
          },
          {
            "column1": "value71",
            "column2": "value72",
            "column3": "value73",
            "column4": "value74",
            "column5": "value75"
          },
          {
            "column1": "value81",
            "column2": "value82",
            "column3": "value83",
            "column4": "value84",
            "column5": "value85"
          },
          {
            "column1": "value91",
            "column2": "value92",
            "column3": "value93",
            "column4": "value94",
            "column5": "value95"
          }
        ],
        "rules": {
          "column1": {
            "validation": {
              "allow": [
                {"data_type": "string", "examples": ["OK", "NG", "---"]}
              ]
            }
          },
          "column2": {
            "validation": {
              "allow": [
                "INFINITE", 
                "NAN", 
                {"regex": "^\\(\\d\\)$", "examples": ["(1)"]},
                {"data_type": "integer", "examples": [1, 2, 3]}
              ]
            }
          }
        },
        "styles": {
          "columnsWeight":{
            "column1": 1,
            "column2": 2,
            "column3": 3,
            "column4": 4,
            "column5": 5
          }
        }
      }
    }
  </textarea>
  <pre id="output"></pre>
</body>